- controller_namespace = ((controller_namespace.nil? ? nil : controller_namespace) rescue nil)

= simple_form_for([controller_namespace, @student], :html => { :multipart => true, :id => "student-form" } ) do |f|
  - if notification = f.error_notification
    .alert.alert-error.fade.in
      %a{:class => "close", 'data-dismiss' => "alert", :href => "#"} &times;
      = notification

  .form-actions
    - back = @student.new_record? ? url_for(:controller => "#{controller_namespace}/teachers", :action => 'index') : url_for(:controller => "#{controller_namespace}/students", :action => 'show', :id => @student.id)
    = link_to "Cancel", back, :class => "btn"

    - if params[:action] == 'new'
      = f.button :submit, :value => "Add Student"
    - else
      = f.button :submit, :value => "Save"

  .form-inputs
    .pull-right
      = f.input :first_name, :input_html => {:class => "name"}
      = f.input :last_name, :input_html => {:class => "name"}
      = f.input :birthday, :as => :string, :input_html => {:class => "select-date", :value => f.object.birthday_string}, :label => "DOB"
      = f.label :gender, :class => 'pull-left gender'
      = f.collection_radio_buttons :gender, [[true, 'Male'] ,[false, 'Female']], :first, :last
      .clearfix
    .pull-left
      .crop_image
        = image_tag (f.object.new_record? ? "missing.png" : f.object.photo.url(:medium)), :size => "200x200", :id => 'upload-image'
      = f.input :photo, :as => :file, :label => "Upload photo"
      
  

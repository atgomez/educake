= simple_form_for(@student, :html => { :multipart => true, :id => "student-form" } ) do |f|
  = f.error_notification
  .form-actions
    - if @student.new_record?
      = link_to "Cancel", :back, :class => "btn"
    - else
      = link_to "Cancel", student_path(@student), :class => "btn"

    - if params[:action] == 'new'
      = f.button :submit, :value => "Add Student"
    - else
      = f.button :submit, :value => "Save"

  .form-inputs
    .pull-right
      = f.input :first_name, :input_html => {:class => "name"}
      = f.input :last_name, :input_html => {:class => "name"}
      = f.input :birthday, :as => :string, :input_html => {:class => "select-date", :value => f.object.birthday_string}, :label => "DOB"
      = f.label :gender, :class => 'pull-left gender'
      = f.collection_radio_buttons :gender, [[true, 'Male'] ,[false, 'Female']], :first, :last
      - teacher = params[:teacher] ? params[:teacher].to_i : current_user.id
      = f.hidden_field :teacher_id, :value => teacher
      .clearfix
    .pull-left
      .crop_image
        = image_tag (f.object.new_record? ? "missing.png" : f.object.photo.url(:medium)), :size => "200x200", :id => 'upload-image'
      = f.input :photo, :as => :file, :label => "Upload photo"
      - if f.object.new_record?
        %div.font-error= @error_photo_type
      - elsif params[:error] 
        %div.font-error= "File must be of filetype .jpg or .png"
  
